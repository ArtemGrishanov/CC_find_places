{"Id":0,"Title":"Поиск городов","TeacherId":"","LessonPart":[{"LessonNumber":1,"Title":"Постановка задачи","Type":"","Tags":"","Tech":"","Experience":"1","DescriptionText":"","Comment":"","Description":[{"Id":0,"PageNumber":1,"Content":"<author role=\"manager\">\nОдному нашему клиенту надо сделать показ городов на карте. Пользователь вводит текст, на карте показывается найденный город.\nВот макет дизайна <a href=\"/images/screenshot.jpg\">Скачать</a>\n<img width=\"300px\" src=\"/images/screenshot.jpg\"/>\nТвой наставник поможет тебе, если потребуется.\nКстати говоря, поиск городов на английском языке.\n</author>"},{"Id":0,"PageNumber":2,"Content":"<author role=\"mentor\">\nПривет друг, я твой наставник в этом проекте. Мы уже, кажется, встречались.\nСо мной ты сможешь связаться по скайпу и задать интересующие вопросы skype:artemgishanov\n</author>"},{"Id":0,"PageNumber":3,"Content":"Для улучшение качества курсов, заполни пожалуйста, анкету. Это займет примерно 1-ну минуту. <a href=\"https://docs.google.com/forms/d/1B4PHWuKajA7Fwjd9Q-wr3yTy8uEcaHjJQyK1uwgWp2o/viewform\" target=\"_blank\">Анкета</a>\n\nПосле того заполнишь, можем двигаться дальше."}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"PageNumber":1,"Content":""}]},{"LessonNumber":3,"Title":"Настройка","Type":"","Tags":"","Tech":"","Experience":"1","DescriptionText":"","Comment":"","Description":[{"PageNumber":1,"Content":"Будет хорошо, если ты уже умеешь использовать <code>git</code> для хранения кода проекта. Если еще нет, что ж, ничего страшного, приступай к работе.\n\nТебе потребуется:\n- Chrome\n- Chrome Development Tools\n- Git (опционально)\n\nВообщем создай новый проект, в нем index.html и все такое прочее."}],"Tutorial":[{"PageNumber":1,"Content":"<h2>Chrome Development Tools</h2>\nChrome Development Tools (cdt) - это отличный инструмент разработчика, который позволяет просматривать исходный код html-страницы, скриптов и стилей.\nКроме того вы можете менять код станицы и стили \"на лету\" и видеть все изменения. Совершенно обычным является редактирование стилей прямо в cdt, добиваясь нужного результата, а затем перенести их в свой проект.\nДля открытия cdt следует нажать правой кнопкой в любое место страницы и выбрать \"Проверить элемент\" (Inspect Element).\n<h3>Elements</h3>\nВ разделе Elements видно DOM-дерево страницы, а также стили с правой стороны.\nДействия производимые в отладчике, конечно, затрагивают только вашу локальную html-страницу, которую загрузил браузер.\n<h3>Network</h3>\nВ этом разделе видны все входящие и исходящие запросы из браузера: html, картинки, скрипты, шрифты, ajax и так далее.\n<h3>Console</h3>\nКонсоль является мощным средством отладки javascript. Позволяет получить доступ к программному контексту страницы, выполнять все функции, добавлять новые объекты - по-сути программировать прямо в открывшейся странице.\nАналогчиные инструменты разработчика существую почти во всех веб-браузерах."}],"Job":[{"PageNumber":1,"Content":"Подготовь все эти инструменты, создай каталог для проекта и перейдем к следующему разделу."}]},{"LessonNumber":4,"Title":"Откуда брать информацию по городам?","Type":"","Tags":"javascript[20], html[4], ajax[5]","Tech":"","Experience":"26","DescriptionText":"","Comment":"Надо загрузить файл cities.txt куда то к нам на сервер.\nКуда то на api.compilisto.com/find_places/cities.txt","Description":[{"Id":0,"PageNumber":1,"Content":"Нам предстоит достаточно работы перед тем как мы займемся версткой и интерфейсом пользователя.\nВо-первых, нам нужны данные по городам. Какой город и где находится, иначе говоря координаты: широта и долгота.\nСписок доступных городов вот он по ссылке\n<a href=\"https://dl.dropboxusercontent.com/u/56885863/cities.txt\">https://dl.dropboxusercontent.com/u/56885863/cities.txt</a>\n\nТебе потребуется:\n- XMLHttpRequest\n- Javascript Functions\n- Arrays\n- Object\n- Array Split\n- Javascript 'For'\n- Chrome Development Tools\n- parseInt\n- script"},{"Id":0,"PageNumber":2,"Content":"Обрати внимание на формат файла. Открой его в любом текстовом редакторе. Думаю, тут все понятно. Название города, широта, долгота и регион."}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Первым шагом добавь в конец <code>body</code> тег <code><script></code> а в нем функцию <code>loadCities()</code>, которая будет отвечать за загрузку городов.\nПусть <code>loadCities()</code> автоматически вызывается при загрузке страницы.\nПоместив вызов функцию таким образом, ты будешь уверен, что она начинает работать после загрузки всего html-документа."},{"Id":0,"PageNumber":2,"Content":"Реализуй типичный запрос с помощью XMLHttpRequest.\nСсылка на файл с городами может выглядеть например так:\nxmlhttp.open(\"GET\", 'https://dl.dropboxusercontent.com/u/56885863/cities.txt);"},{"Id":0,"PageNumber":3,"Content":"В результате в свойстве <code>responseText</code> должна оказаться строка, то есть содержимое файла cities.txt\nЭто всего лишь строка, нам еще предстоит извлечь из нее информацию."},{"Id":0,"PageNumber":4,"Content":"Объяви переменную cities (массив), в которой будут собраны объекты-города."},{"Id":0,"PageNumber":5,"Content":"В обработке ответа сначала следует разбить текст на строки, примерно так:\n<listing>\nvar lines = xmlhttp.responseText.split('\\n');\n</listing>\nПотом сделать цикл <code>for</code> по всем <code>lines</code> и сделать <code>split</code> строки по символу '#'. Из полученных данных сформировать объект и запихать его в массив."},{"Id":0,"PageNumber":6,"Content":"В результате в консоли <code>CDT</code> при вводе <code>cities</code>, вы должны увидеть массив <code>cities</code> длиной 23461 элемент\n<img src=\"/images/cities_in_console.jpg\"/>"},{"Id":0,"PageNumber":7,"Content":"<author role=\"mentor\">\nОтлично. Теперь у тебя есть данные по городам, с которыми можно работать.\nЕсли не получилось, пиши задавай вопросы.\nНадеюсь ты помнишь, что можешь получить советы по практике, связавшись со мной  skype:artemgishanov\n</author>"}]},{"LessonNumber":5,"Title":"Начинаем делать UI","Type":"","Tags":"html[12], css[6]","Tech":"","Experience":"18","DescriptionText":"","Comment":"","Description":[{"Id":0,"PageNumber":1,"Content":"Создадим базовый интерфейс пользователя согласно макету. Постараемся сделать, чтобы можно было что-то вводить и нажимать.\n\nТебе понадобится:\n- html forms\n- html input\n- html select\n- css position"},{"Id":0,"PageNumber":2,"Content":"Вот карта. Она представляет собой цилиндрическую проекцию земного шара.\n<img width=\"400px\" src=\"/images/map_950.png\"/>\n<a href=\"/images/map_950.png\">Скачать</a>\nНа таком типе карт легко будет переводить графические координаты в экранные."}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Сформируй основную верстку: там должны быть по крайней мере два основных <code>div</code>: карта и блок с элементами ввода (<code>input</code>, <code>select</code> и кнопка)"},{"Id":0,"PageNumber":2,"Content":"Как можно заметить элементы ввода (контролы) накладываются поверх карты, какой прием для этого можно применить:\n<quiz>{\"type\": \"radiobutton\", \"tags\": \"\", \"question\": \"Что следует использовать для того, чтобы компоненты интерфейса оказались поверх карты?\", \"choice\": [\"float:left;\",\"position:absolute;\",\"display:inline-block;\"],\"answer\":\"1\", \"explanation\": \"Следует использовать position:absolute; чтобы вынести блок из основного html потока и расположить его как угодно. В данном случае поверх блока с картой.\"}</quiz>"},{"Id":0,"PageNumber":3,"Content":"Используй html-тег <code>form</code> с элементами ввода, чтобы сформировать интерфейс ввода.\nКнопку я бы сделал в отдельном диве ниже.\nНу и карту не забудь показать, это будет фон одного большого <code>div</code>"},{"Id":0,"PageNumber":4,"Content":"Более тонкой настройкой дизайна и красотой займемся в следующей задаче\nНадеюсь получилось, если что консультируйся."}]},{"LessonNumber":6,"Title":"Доводим UI до приемлемого вида","Type":"","Tags":"html[5],css[15]","Tech":"","Experience":"20","DescriptionText":"","Comment":"Код добавить - о чем речь.","Description":[{"PageNumber":1,"Content":"Выровняй элементы согласно по макету. тут должно быть несложно.\nКстати, <code>select</code> надо по умолчанию скрыть, так как он будет отвечать за выбор альтернативного города.\n\nТебе потребуется\n- paddings\n- css кнопки\n- css position\n- left\n- top\n- padding\n- margin"}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Я бы сделал кнопку обычным <code>span</code> со стилями: <code>display:inline-block</code> фон, границы, настройки шрифта, ну и еще по мелочи"},{"Id":0,"PageNumber":2,"Content":"Используй <code>left</code> и <code>top</code> чтобы установить все элементы абсолютным позиционированием. Если надо используй <code>padding</code> и <code>margin</code>"}]},{"LessonNumber":7,"Title":"Начинаем искать","Type":"","Tags":"javascript[20], html[4], css[6]","Tech":"","Experience":"30","DescriptionText":"","Comment":"","Description":[{"Id":0,"PageNumber":1,"Content":"- Ввести указатель pointer (будет указывать место на карте)\n- Реализовать функцию поиска <code>findCity(name)</code>, которая будет возвращать найденный объект из массива <code>cities</code>\n- Реализовать функцию перемещения указателя на точку на карте. Функция <code>show(latitude, longitude)</code>\n\nТебе понадобятся:\n- javascript functions\n- javascript variables\n- html id\n- getElementById"},{"Id":0,"PageNumber":2,"Content":"Указатель - это тот самый элемент интерфейса, который показывает местоположение.\nДавай сделаем пока просто квадратный div размером 5х5 пикселей. Пока у нас нет красивого красного указателя как показано на макете, в дизайне."}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Css-класс указателя, конечно, должен задавать абсолютную позицию.\nДолжна появиться черная точка в левом верхнем углу карты.\nЭто будет предварительная настройка стилей.\n<img src=\"/images/pointer_1.png\"/>"},{"Id":0,"PageNumber":2,"Content":"У <code>div</code> указателя стоит задать атрибут <code>id</code>, для доступа к нему из javascript.\nМы будем двигать его программно из javascript кода."},{"Id":0,"PageNumber":3,"Content":"Перед определением новой функции открой js консоль <code>CDT</code> и набери, например:\n<listing>\nfindCity('Stockholm');\n</listing>\nТы увидишь, что такой функции нет.\n<img src=\"/images/findCity_console.jpg\"/>\n\nДобавь в <code><script></code> функцию\n<listing>\n/**\n* Поиск города по имени в массиве cities\n* @param name - название искомого города\n*/\nfunction findCity(name) {\n  return null;\n}\n</listing>\nИ снова попробую вызов в консоли. Теперь видно, что функция есть. Хотя она и возвращает пустой массив.\nУчись тестировать js-код через консоль"},{"Id":0,"PageNumber":4,"Content":"В функции <code>findCity(name)</code> используй цикл <code>for</code>, чтобы перебрать все элементы и сравнить аргумент name с именем каждого города.\n\n<quiz>{\"type\": \"radiobutton\", \"tags\": \"\", \"question\": \"Кстати, сколько городов может быть найдено по запросу?\", \"choice\": [\"Только один вариант\",\"Возможно несколько вариантов поиска\"],\"answer\":\"1\", \"explanation\": \"Конечно, возможно несколько ответов. Например,  по запросу &#034;Moscow&#034; будет два варианта поиска. Российская столица и небольшой город в Калифорнии.\"}</quiz>"},{"Id":0,"PageNumber":5,"Content":"И последняя функция <code>show(latitude, longitude)</code> передвигает указатель в точку на карте.\nУверен, ты помнишь как из javascript устанавливать css-свойства. Например:\n<listing>\npointer.style.top = x + 'px';\n</listing>\nНужно перевести географические координаты в координаты на карте, чтобы переместить <code>div</code> на нужное место с помощь <code>left</code> и <code>top</code>.\nНадо ввести переменный mapWidth и mapHeight для удобства расчетов координат."},{"Id":0,"PageNumber":6,"Content":"Подсказка по функции перевода координат из широты и долготы в координаты экрана <code>show(latitude, longitude)</code>.\n<listing collapsed=\"true\">\n/**\n         * @param latitude - широта [-90..90] (будем переводить в y на карте)\n         * @param longitude - долгота [-180..180] (будем переводить в x на карте)\n         */\n        function show(latitude, longitude) {\n            var x, y = 0;\n            latitude+=90;\n            y = mapHeight-(latitude*mapHeight)/180;\n\n            longitude+=180;\n            x = (longitude*mapWidth)/360;\n            pointer.style.top = y + 'px';\n            pointer.style.left = x + 'px';\n        }\n</listing>"},{"Id":0,"PageNumber":7,"Content":"Не все элементы пользовательского интерфейса еще функционируют как надо. Займемся ими в следующей задаче."}]},{"LessonNumber":8,"Title":"Доделываем UI","Type":"","Tags":"javascript[25],html[4]","Tech":"","Experience":"30","DescriptionText":"","Comment":"","Description":[{"Id":0,"PageNumber":1,"Content":"Описание задачи:\n- Сделать поиск по клику на кнопку.\n- Если результатов поиска несколько, то показывай первый найденный\n- Выбор нескольких вариантов поиска\n- Скрытие и показ выбора нескольких вариантов\n- Скрытие указателя, если ничего не найдено.\n\nТебе потребуется:\n- javascript события\n- onchange\n- onselect\n- javascript innerHTML\n- javascript style\n- document.createElement\n- appendChild"},{"Id":0,"PageNumber":3,"Content":"В результате указатель должен по нажатию на кнопку становиться в искомый город. А в поле select появляться альтернатива выбора.\n<img src=\"/images/showresult.jpg\"/>"}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Рекомендую сохранить в переменные ссылку на поле ввода <code>input</code> и компонент выбора <code>select</code>, чтобы не делать каждый раз поиск их с помощью <code>getElementById</code>\nНапример:\n<listing>\nmyElement = document.getElementById('myElementId');\n</listing>\nЕще может быть полезна:\n<code>searchResult</code> - переменная куда будут сохраняться результаты поиска."},{"Id":0,"PageNumber":2,"Content":"Здесь начнется самое интересное. Это основная функция, которая свяжет воедино весь функционал приложения.\nВведи событие <code>onclick</code> на кнопку поиска, которое свяжи с функцией, например:\n<listing collapsed=\"true\">\n/**\n         * Поиск и отображени результатов на карте\n         */\n        function onShowClick() {\n            // получить значение из value\n            //TODO\n            // очищаем select\n            select.innerHTML = '';\n            // ищем и сохраняем результат, он еще может понадобится\n            //TODO searchResult = ...\n            if (searchResult.length > 0) {\n                // есть по крайней мере один результат\n                //TODO show(...);\n                if (searchResult.length > 1) {\n                    // есть несколько вариантов - показать список с выбором\n                    //TODO\n                    // создаем выбор внутри элемента select для каждого найденного результата\n                    for (var i = 0; i < searchResult.length; i++) {\n                        //TODO\n                    }\n                }\n                else {\n                    // скрыть список с выбором, так как результат один\n                    //TODO\n                }\n            }\n            else {\n                // ничего не найдено\n                //TODO\n            }\n        }\n}\n</listing>\n\nТакие шаблоны или заготовки можно часто встретить. Разработчики часто пишут <code>TODO</code> для задач, которые надо сделать в будущем."},{"Id":0,"PageNumber":3,"Content":"В результате указатель должен по нажатию на кнопку становиться в искомый город. А в поле select появляться альтернатива выбора. Если она есть, конечно.\n<img src=\"/images/showresult.jpg\"/>\nЕсли результат поиска один единственный, то элемент <code>select</code> скрывается"},{"Id":0,"PageNumber":4,"Content":"Введи событие onchange для элемента <code>select</code> например:\n<listing>\n<select id=\"id-select_city\" class=\"city_select\" style=\"display: none;\" onchange=\"onSelectChange()\">\n</listing>\nФункция отвечает за смену и показ альтернативного варианта поиска.\nВнутри <code>onSelectChange</code> будет всего одна строчка кода, подумай какая."},{"Id":0,"PageNumber":5,"Content":"Весь основной функционал у нас готов. Осталось не так много. Вперед!"}]},{"LessonNumber":9,"Title":"Новый указатель","Type":"","Tags":"html[6],css[4],javascript[8]","Tech":"","Experience":"16","DescriptionText":"","Comment":"","Description":[{"Id":0,"PageNumber":1,"Content":"\"На закуску\" потребуется сменить указатель на более красивый. Дизайнер наконец-то нарисовал :)\n\nОбзор:\n- Добавить новый указатель\n- Обеспечить его позиционирование, чтобы он точно указывал на искомую точку.\n\nРесурсы:\n<img src=\"/images/pin.png\"/>\n<a href=\"/images/pin.png\">Скачать</a>"},{"Id":0,"PageNumber":2,"Content":"Если ты обратил внимание, то требуется позиционировать новый указатель другим способом. То есть переписать формулу, чтобы нижний выступ точно указывал на искомое место.\n\nРекомендую тестировать выравнивание на какой-то определенной, известной точке. Например в координатах 0-широты и 0-долготы.\n<img src=\"/images/location00.jpg\"/>\n\nДобейся того, чтобы новый указатель кончиком указывал именно туда при вызове js-функции:\n<listing>\nshow(0,0);\n</listing>"}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Рекомендую вынести в javascript код размеры этого самого указателя.\nНапример, ввести переменные pointerWidth = 30, pointerHeight = 38;"},{"Id":0,"PageNumber":2,"Content":"Это была последняя фича в этом проекте. Надеюсь, она не вызвала у тебя особых трудностей. Если что - пиши, спрашивай!"}]},{"LessonNumber":10,"Title":"Завершение","Type":"","Tags":"html[4],css[5],javascript[3]","Tech":"","Experience":"4","DescriptionText":"","Comment":"","Description":[{"Id":0,"PageNumber":1,"Content":"<author role=\"mentor\">\nДавай подумаем как можно было бы улучшить проект на будущее?\n</author>"},{"Id":0,"PageNumber":2,"Content":"<quiz>{\"type\": \"radiobutton\", \"tags\": \"\", \"question\": \"Заказчик захочет изменить изображение карты, что ты скажешь?\", \"choice\": [\"Можно вставить произвольное изображение, нет проблем\",\"Надо использовать сильно похожую карту\",\"Никак не получится\"],\"answer\":\"1\", \"explanation\": \"Просто заменить изображение на любое другое нельзя. В идеале, если дизайнер поработает с существующей картой, улучшит её, сохранив расположение континентов. Чтобы изменить карту на другую проекцию, придется менять алгоритм определения позиции и серьезно.\"}</quiz>"},{"Id":0,"PageNumber":3,"Content":"<quiz>{\"type\": \"radiobutton\", \"tags\": \"\", \"question\": \"Заказчик хочет, чтобы указатель перемещался анимировано. Что ты сделаешь?\", \"choice\": [\"Двигать с помощью javascript, меняя left и top\",\"Добавить css стиль для указателя transform: moving;\",\"Добавить стиль для указателя transition: all 1s ease;\"],\"answer\":\"2\", \"explanation\": \"Конечно же, свойство transition отвечает за плавное изменение свойств. Использование transition: all 1s ease; позволит плавно изменять свойства, в частноcти left и top\"}</quiz>"},{"Id":0,"PageNumber":4,"Content":"Пожалуйста, заполни анкету. Это займет примерно 1 минуту.\n<a href=\"https://docs.google.com/forms/d/1ijOU07JXen5lAAcytoc2x5QHjt-3sS1c9KZM1_xfzmo/viewform\" target=\"_blank\">Анкета</a>"},{"Id":0,"PageNumber":5,"Content":"Поздравляю!\nТы сегодня снова стал еще немного круче и сделал непростой проект с использованием javasciprt."}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"PageNumber":1,"Content":""}]}]}