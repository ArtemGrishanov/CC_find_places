{"Id":0,"Title":"Поиск городов","TeacherId":"","LessonPart":[{"LessonNumber":1,"Title":"Постановка задачи","Type":"","Tags":"","Tech":"","Experience":"0","DescriptionText":"","Comment":"","Description":[{"PageNumber":1,"Content":"Задача\nКлиенту надо сделать показ городов на карте\nВот макет дизайна\n<img src=\"/images/screenshot.jpg\"/>\n\nАнгл язык"}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"PageNumber":1,"Content":""}]},{"LessonNumber":3,"Title":"Настройка","Type":"","Tags":"","Tech":"","Experience":"0","DescriptionText":"","Comment":"","Description":[{"PageNumber":1,"Content":"- Установка веб-сервера локально?\n- Git ?\n- Chrome\n- Chrome Development Tools"}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"PageNumber":1,"Content":""}]},{"LessonNumber":4,"Title":"Откуда брать информацию по городам?","Type":"","Tags":"","Tech":"","Experience":"0","DescriptionText":"","Comment":"","Description":[{"PageNumber":1,"Content":"Список доступных городов вот он.\n\nНам предстоит достаточно работы перед тем как мы займемся версткой и интерфейсом пользователя.\nНам нужны данные по городам.\nОбрати внимание на структуру файла...\n\nТебе потребуется:\n- XMLHttpRequest\n- Javascript Functions\n- Arrays\n- Object\n- Split\n- Javascript 'For'\n- Chrome Development Tools\n- parseInt"}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Первым шагом добавь внутри body тег <script> а в нем функцию loadCities(), которая будет отвечать за загрузку городов.\nПусть loadCities() автоматически вызывается при загрузке страницы."},{"Id":0,"PageNumber":2,"Content":"Реализуй типичный запрос с помощью XMLHttpRequest.\n\nСсылка на файл с городами может выглядеть например так:\nxmlhttp.open(\"GET\", 'http://localhost:63342/find_place/res/cities.txt');"},{"Id":0,"PageNumber":3,"Content":"В результате в свойстве responseText должна оказать строка, содержимое файла cities.txt"},{"Id":0,"PageNumber":4,"Content":"Объяви глобальную переменную cities (массив), в которой будут собраны объекты-города."},{"Id":0,"PageNumber":5,"Content":"В обработке ответа сначала следует разбить текст на строки, примерно так:\nvar lines = xmlhttp.responseText.split('\\n');\n\nПотом сделать цикл for по всем lines и сделать split по символу '#'. Из полученных данных сформировать объект и запихать его в массив."},{"Id":0,"PageNumber":6,"Content":"В результате в консоли CDT при вводе cities, вы должны увидеть массив cities длиной 23461\n<img src=\"/images/cities_in_console.jpg\"/>"},{"Id":0,"PageNumber":7,"Content":"Отлично. Теперь у тебя есть данные по городам, с которыми можно работать.\nЕсли не получилось, пиши задавай вопросы."}]},{"LessonNumber":5,"Title":"Начинаем делать UI","Type":"","Tags":"","Tech":"","Experience":"0","DescriptionText":"","Comment":"","Description":[{"Id":0,"PageNumber":1,"Content":"Создай базовый интерфейс пользователя по макету\n\n\n\nТебе понадобится:\n- html forms\n- html input\n- html select\n- css position"},{"Id":0,"PageNumber":2,"Content":"Вот карта. Она представляет собой цилиндрическую проекцию земного шара.\n<img src=\"/images/map_950.png\"/>\nНа таком типе карт легко будет переводить графические координаты в экранные."}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Сформируй основную верстку: там должны быть по крайней мере два основных <code>div</div>: карта и блок с элементами ввода (input, select и кнопка)"},{"Id":0,"PageNumber":2,"Content":"Как можно заметить элементы ввода (контролы) накладываются поверх карты, какой прием для этого можно применить:\n<quiz>{\"type\": \"radiobutton\", \"tags\": \"\", \"question\": \"Что следует использовать для для наложения друг на друга карты и контролов?\", \"choice\": [\"float: left;\",\"position: absolute;\",\"display: inline-block;\"],\"answer\":\"·\", \"explanation\": \"ѴZҠbӮ±ҧrӓӳ¶Ҽ~{O¬ÃÎkċÀ\\õ½Ôdĥ¶ĨµÉ`Ħ²ÃZĔ¥ĘªËÉh±OÇTĐ¡õģ®Ğªæ£gSÉf÷Ć¢³NóµÑ±Ӝ ҕWҲ|ҙ\\ҙ[Ü¼ӎқZҶwҟaҭrҜPҚcҾӍҬ|ҩgҤX}]Ӫ¶ӧ¬ҟPdҍMҟoҚYӄӝӠ¥ҸzҮxҒ]҆Iӣ«ӳ¤´ӌӯ¯ҽzӫ¸³ӗӞ®Ҿ²ӯ»Ӭ¬ҝZө¶ӏһ¿|ҡӷ¹ҤmҧoӛӓҸiaӭ¯ҝlӪ¬ӏӿº¾]ď¬Ðaû¿Zð²èĢ¹Õ_Þ¢à±ß|öğ»óWrӠ¯ұnҔ`Ӑӌ»ӥ®ѺJҙeӅӑӟ¯ӳ±Ҩ\\ӆӻ¬jJӋҊHӱ´қ]Һyӟ§ңaӛ¦ҿӧӔӏyҰpҘZӀӧ¯Ӱ®ҡlҥjӇ{ӱ°ӄӭ¯қhӐlLҸ~҃Eҝ`ҳqҵҼӡ¤ӃҳsӥµÓ³ӏÐ°Ӭ²ҤfӬªҹ{҈HҕW҈UӴ¶Ø¸Ӵ¶ӴµӚҘcҍYҏZӭ²Ӣ­ҔWӇ§Hý¶GĆ¢ºUÜÕeóĐÇ^éuÜs¶Gú´z»Iêā»ZìxÓjħ±Ñlµyº¸Uézą¡á|Ô\"}</quiz>"},{"Id":0,"PageNumber":3,"Content":"Используй форму form с элементами ввода, чтобы сформировать\n\nКнопку я бы сделал в отдельном диве вне формы и ниже\n\nНу и карту не забудь показать"},{"Id":0,"PageNumber":4,"Content":"Надеюсь получилось.\n\nтонкой настройкой дизайна займемся в следующей задаче\n\nНадеюсь получилось, если что консультируйся."}]},{"LessonNumber":6,"Title":"Доводим UI до приемлемого вида","Type":"","Tags":"","Tech":"","Experience":"0","DescriptionText":"","Comment":"","Description":[{"PageNumber":1,"Content":"Выровняй задай стили по макету\n\nтут все просто\n\nselect надо по умолчанию скрыть, так как он будет показывать выбор\n\n\nТебе потребуется\n- paddings\n- css кнопки\n- css position"}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Я бы сделал кнопку обычным <code>span</code> со стилями: <code>display:inline-block</code> фон, границы, настройки шрифта, ну и еще по мелочи"},{"Id":0,"PageNumber":2,"Content":"Используй <code>left</code> и <code>top</code> чтобы установить все элементы абсолютным позиционированием. Если надо используй <code>padding</code> и <code>margin</code>"}]},{"LessonNumber":7,"Title":"Начинаем искать","Type":"","Tags":"","Tech":"","Experience":"0","DescriptionText":"","Comment":"","Description":[{"Id":0,"PageNumber":1,"Content":"Ввести указатель pointer\n\nреализовать функцию поиска findCity(name), которая будет возвращать найденный объект из массива cities\n\nреализовать функцию перемещения указателя на точку на карте. Функция show(latitude, longitude)\n\nТебе понадобятся:\n- javascript functions\n- javascript variables\n- html id \n- Сравнение строк\n- getElementById"},{"Id":0,"PageNumber":2,"Content":"Указатель - это тот самый элемент интерфейса, который показывает местоположение.\nДавай сделаем пока просто квадратный div размером 5х5 пикселей. Пока у нас нет красивого красного указателя как показано на макете, в дизайне."}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"css-класс указателя конечно должен задавать абсолютную позицию.\nДолжна появиться черная точка в левом верхнем углу карты.\n<img src=\"/images/pointer1.png\"/>"},{"Id":0,"PageNumber":2,"Content":"У <code>div</code> указателя стоит задать атрибут id, для доступа к нему из javascript.\nТак далее очевидно мы будем двигать его программно."},{"Id":0,"PageNumber":3,"Content":"Перед определением новой функции открой js консоль Chrome Dev Tools и набери, например:\n<listing>\nfindCity('Stockholm');\n<listing/>\nТы увидишь, что такой функции нет.\n<img src=\"/images/findCity_console.jpg\"/>\n\nДобавь в <script> функцию\n<listing>\n/**\n* Поиск города по имени в массиве cities\n* @param name - название искомого города\n*/\nfunction findCity(name) {\n  return [];\n}\n</listing>\nИ снова попробую вызов в консоли.\n\nУчись тестировать js-код через консоль"},{"Id":0,"PageNumber":4,"Content":"В функции findCity(name) используй цикл for чтобы перебрать все элементы и сравнить аргумент name с именем каждого города.\n\nКстати, вариантов поиска сколько может быть?\nОпрос"},{"Id":0,"PageNumber":5,"Content":"И последняя функция show(latitude, longitude) передвигает указатель в точку на карте\n\nнужно перевести географические координаты в координаты на карте, чтобы переместить div на нужное место с помощь left и top.\n\nНадо ввести mapWidth и mapHeight"},{"Id":0,"PageNumber":6,"Content":"Подсказка по функции перевода координат из широты и долготы в координаты экрана.\n<listing collapsed=\"true\">\n/**\n         * @param latitude - широта [-90..90] (будем переводить в y на карте)\n         * @param longitude - долгота [-180..180] (будем переводить в x на карте)\n         */\n        function show(latitude, longitude) {\n            var x, y = 0;\n            latitude+=90;\n            y = mapHeight-(latitude*mapHeight)/180;\n\n            longitude+=180;\n            x = (longitude*mapWidth)/360;\n            pointer.style.top = y + 'px';\n            pointer.style.left = x + 'px';\n        }\n</listing>"},{"Id":0,"PageNumber":7,"Content":"Не все элементы пользовательского интерфейса еще функционируют как надо. Займемся ими в следующей задаче."}]},{"LessonNumber":8,"Title":"Доделываем UI","Type":"","Tags":"","Tech":"","Experience":"0","DescriptionText":"","Comment":"","Description":[{"Id":0,"PageNumber":1,"Content":"Сделать поиск по кнопке show\nЕсли результатов поиска несколько, то показывай первый найденный\nВыбор нескольких вариантов поиска\nСкрытие и показ выбора нескольких вариантов\nСкрытие указателя, если ничего не найдено.\n\nТебе потребуется:\n- javascript события onchange onselect\n- javascript innerHTML\n- javascript style\n- document.createElement\n- appendChild"},{"Id":0,"PageNumber":3,"Content":"В результате указатель должен по нажатию на кнопку становиться в искомый город. А в поле select появляться альтернатива выбора.\n<img src=\"\"/>"},{"Id":0,"PageNumber":4,"Content":""}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Рекомендую сохранить в переменные ссылку на поле ввода <code>input</code> и компонент выбора <code>select</code>, чтобы не делать каждый раз поиск их с помощью <code>getElementById</code>\n\nsearchResult - переменная куда будут сохраняться результаты поиска."},{"Id":0,"PageNumber":2,"Content":"Здесь начнется самое интересное. Это основная функция, которая свяжет воедино весь функционал приложения.\nВведи событие onclick на кнопку поиска, которое свяжи с функцией, например:\n<listing collapsed=\"true\">\n/**\n         * Поиск и отображени результатов на карте\n         */\n        function onShowClick() {\n            // получить значение из value\n            //TODO\n            // очищаем select\n            select.innerHTML = '';\n            // ищем и сохраняем результат, он еще может понадобится\n            //TODO searchResult = ...\n            if (searchResult.length > 0) {\n                // есть по крайней мере один результат\n                //TODO show(...);\n                if (searchResult.length > 1) {\n                    // есть несколько вариантов - показать список с выбором\n                    //TODO\n                    // создаем выбор внутри элемента select для каждого найденного результата\n                    for (var i = 0; i < searchResult.length; i++) {\n                        //TODO\n                    }\n                }\n                else {\n                    // скрыть список с выбором, так как результат один\n                    //TODO\n                }\n            }\n            else {\n                // ничего не найдено\n                //TODO\n            }\n        }\n}\n</listing>\n\nТакие шаблоны или заготовки можно часто встретить. Разработчики часто пишут <code>TODO</code> для задач, которые надо сделать в будущем."},{"Id":0,"PageNumber":3,"Content":"В результате указатель должен по нажатию на кнопку становиться в искомый город. А в поле select появляться альтернатива выбора.\n<img src=\"/images/showresult.jpg\"/>"},{"Id":0,"PageNumber":4,"Content":"Введи событие onchange для элемента <code>select</code> например:\nonchange=\"onSelectChange()\"\n\nФункция отвечает за смену и показ альтернативного варианта поиска.\nВнутри будет всего одна строчка кода, подумай какая."}]},{"LessonNumber":9,"Title":"Новый указатель","Type":"","Tags":"","Tech":"","Experience":"0","DescriptionText":"","Comment":"","Description":[{"Id":0,"PageNumber":1,"Content":"\"На закуску\" потребуется сменить указатель на более красивый. Дизайнер наконец-то нарисовал :)\n\nОбзор:\n- Добавить новый указатель\n- Обеспечить его позиционирование, чтобы он точно указывал на искомую точку.\n\nРесурсы:\n<img src=\"/images/pin.png\"/>\n<a href=\"/images/pin.png\">Скачать</a>"},{"Id":0,"PageNumber":2,"Content":"Если ты обратил внимание, то требуется позиционировать новый указатель другим способом. То есть переписать формулу, чтобы нижний выступ точно указывал на искомое место.\n\nРекомендую тестировать выравнивание на какой-то определенной, известной точке. Например в координатах 0-широты и 0-долготы.\n<img src=\"/images/location00.jpg\"/>\n\nДобейся того, чтобы новый указатель кончиком указывал именно туда при вызове js-функции\n<listing>\nshow(0,0);\n</listing>"},{"Id":0,"PageNumber":3,"Content":""}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"Id":0,"PageNumber":1,"Content":"Рекомендую вынести в javascript код размеры этого самого указателя.\nНапример, ввести pointerWidth = 30, pointerHeight = 38,"},{"Id":0,"PageNumber":2,"Content":"Это была последняя фича в этом проекте. Надеюсь, она не вызвала у тебя особых трудностей. Если что - пиши, спрашивай!"}]},{"LessonNumber":10,"Title":"Завершение","Type":"","Tags":"","Tech":"","Experience":"0","DescriptionText":"","Comment":"","Description":[{"PageNumber":1,"Content":"Как можно было бы улучшить проект?\n\nКак сделать перевод на русский язык?\n\nЕсли прямо завтра будет такое требование изменить ... то что ты сделаешь?\n\nКак сделать...?\n\n\nАнкета"}],"Tutorial":[{"PageNumber":1,"Content":""}],"Job":[{"PageNumber":1,"Content":""}]}]}